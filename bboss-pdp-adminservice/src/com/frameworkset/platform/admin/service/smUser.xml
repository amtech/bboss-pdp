<?xml version="1.0" encoding="UTF-8"?>
<!-- 
**
 *  Copyright 2008-2010 biaoping.yin
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 *
 *
 * Title: smUser.xml
 * Description: 用户管理管理sql配置文件 
 * Company:bboss
 * Copyright (c) 2015
 * @Date 2016-11-29 21:14:30
 * @author yinbp
 * @version v1.0 
 **
 -->
<properties>
	
		<property name="addSmUser">
		<![CDATA[
			insert into td_sm_user (USER_ID,CERT_SN,DEPART_ID,DREDGE_TIME,ISTAXMANAGER,LASTLOGIN_DATE,LOGON_IP,Password_DualTime,PASSWORD_TEXT,PASSWORD_UPDATETIME,PAST_TIME,POLITICS,REMARK1,REMARK2,REMARK3,REMARK4,REMARK5,update_time,USER_ADDRESS,USER_BIRTHDAY,USER_EMAIL,USER_FAX,USER_HOMETEL,USER_IDCARD,USER_ISVALID,USER_LOGINCOUNT,USER_MOBILETEL1,USER_MOBILETEL2,USER_NAME,USER_OICQ,USER_PASSWORD,USER_PINYIN,USER_POSTALCODE,USER_REALNAME,USER_REGDATE,USER_SEX,USER_SN,USER_TYPE,USER_WORKNUMBER,USER_WORKTEL,WORKLENGTH) values(#[userId],#[certSn],#[departId],#[dredgeTime],#[istaxmanager],#[lastloginDate],#[logonIp],#[passwordDualtime],#[passwordText],#[passwordUpdatetime],#[pastTime],#[politics],#[remark1],#[remark2],#[remark3],#[remark4],#[remark5],#[updateTime],#[userAddress],#[userBirthday],#[userEmail],#[userFax],#[userHometel],#[userIdcard],#[userIsvalid],#[userLogincount],#[userMobiletel1],#[userMobiletel2],#[userName],#[userOicq],#[userPassword],#[userPinyin],#[userPostalcode],#[userRealname],#[userRegdate],#[userSex],#[userSn],#[userType],#[userWorknumber],#[userWorktel],#[worklength])
		]]>
	</property>
		<property name="deleteByKey">
		<![CDATA[
			delete from td_sm_user where USER_ID=?
		]]>
	</property>
		<property name="updateSmUser">
		<![CDATA[
			update td_sm_user set USER_ID=#[userId],CERT_SN=#[certSn],DEPART_ID=#[departId],DREDGE_TIME=#[dredgeTime],ISTAXMANAGER=#[istaxmanager],LASTLOGIN_DATE=#[lastloginDate],LOGON_IP=#[logonIp],Password_DualTime=#[passwordDualtime],PASSWORD_TEXT=#[passwordText],PASSWORD_UPDATETIME=#[passwordUpdatetime],PAST_TIME=#[pastTime],POLITICS=#[politics],REMARK1=#[remark1],REMARK2=#[remark2],REMARK3=#[remark3],REMARK4=#[remark4],REMARK5=#[remark5],update_time=#[updateTime],USER_ADDRESS=#[userAddress],USER_BIRTHDAY=#[userBirthday],USER_EMAIL=#[userEmail],USER_FAX=#[userFax],USER_HOMETEL=#[userHometel],USER_IDCARD=#[userIdcard],USER_ISVALID=#[userIsvalid],USER_LOGINCOUNT=#[userLogincount],USER_MOBILETEL1=#[userMobiletel1],USER_MOBILETEL2=#[userMobiletel2],USER_NAME=#[userName],USER_OICQ=#[userOicq],USER_PASSWORD=#[userPassword],USER_PINYIN=#[userPinyin],USER_POSTALCODE=#[userPostalcode],USER_REALNAME=#[userRealname],USER_REGDATE=#[userRegdate],USER_SEX=#[userSex],USER_SN=#[userSn],USER_TYPE=#[userType],USER_WORKNUMBER=#[userWorknumber],USER_WORKTEL=#[userWorktel],WORKLENGTH=#[worklength] where USER_ID=#[userId]
		]]>
	</property>
		<property name="selectById">
		<![CDATA[
			select * from td_sm_user where USER_ID=?
		]]>
	</property>
	<property name="selectMaxSNofdepart">
		<![CDATA[
			select max(USER_SN)+1 from td_sm_user where DEPART_ID=?
		]]>
	</property>
	<property name="getDepartUsers">
		<![CDATA[
			select * from td_sm_user where 1=1 
			#if( !$recursive  || $recursive.equals("0") || $recursive.equals("") )
				and depart_id=#[departId]
			#end
			#if($userIdcard && !$userIdcard.equals(""))
				and USER_IDCARD =#[userIdcard]		
			#end
			#if($userIsvalid )
					and USER_ISVALID=#[userIsvalid]
				#end
			#if($userMobiletel1 && !$userMobiletel1.equals(""))
				and USER_MOBILETEL1 like #[userMobiletel1]		
			#end
			#if($userName && !$userName.equals(""))
				and USER_NAME like #[userName]		
			#end
			#if($userRealname && !$userRealname.equals(""))
				and USER_REALNAME like #[userRealname]		
			#end
			#if($userSex && !$userSex.equals(""))
				and USER_SEX =#[userSex]		
			#end
			#if($userType && !$userType.equals(""))
				and USER_TYPE =#[userType]		
			#end
			#if($userWorknumber && !$userWorknumber.equals(""))
				and USER_WORKNUMBER like #[userWorknumber]		
			#end
			#if($sortKey && !$sortKey.equals(""))
				order by $sortKey #if($sortDesc)desc#else asc#end
			#else
			 	order by user_sn
			#end

		]]>
	</property>
		<property name="queryListSmUser">
		<![CDATA[
			select * from td_sm_user where 1=1
						#if($userIdcard && !$userIdcard.equals(""))
				and USER_IDCARD =#[userIdcard]		
			#end
												#if($userIsvalid && $userIsvalid > 0)
					and USER_ISVALID=#[userIsvalid]
				#end
											#if($userMobiletel1 && !$userMobiletel1.equals(""))
				and USER_MOBILETEL1 like #[userMobiletel1]		
			#end
								#if($userName && !$userName.equals(""))
				and USER_NAME like #[userName]		
			#end
								#if($userRealname && !$userRealname.equals(""))
				and USER_REALNAME like #[userRealname]		
			#end
								#if($userSex && !$userSex.equals(""))
				and USER_SEX =#[userSex]		
			#end
								#if($userType && !$userType.equals(""))
				and USER_TYPE =#[userType]		
			#end
								#if($userWorknumber && !$userWorknumber.equals(""))
				and USER_WORKNUMBER like #[userWorknumber]		
			#end
			#if($sortKey && !$sortKey.equals(""))
		order by $sortKey #if($sortDesc)desc#else asc#end
	#end

		]]>
	</property>
	</properties>